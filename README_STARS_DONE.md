# üéØ STARS –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò–ó –¢–ó

### 1. API-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å STARS
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –∫—Ä–∏–ø—Ç–æ–∫–æ—à–µ–ª—å–∫–∞ STARS (AES-256 —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –ü–æ–∫—É–ø–∫–∞ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤ –∑–∞ STARS (3 —à—Ç—É–∫–∏)
- ‚úÖ –ü–æ–∫—É–ø–∫–∞ NFT-–ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∑–∞ STARS (3 —à—Ç—É–∫–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏)
- ‚úÖ –ü–æ–∫—É–ø–∫–∞ –º–æ—â–Ω—ã—Ö –±—É—Å—Ç–æ–≤ –∑–∞ STARS (4 —Ç–∏–ø–∞)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–≥—Ä–∞–¥ –≤ STARS –Ω–∞ –∫–æ—à–µ–ª–µ–∫ –∏–≥—Ä–æ–∫–∞

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Backend
- ‚úÖ **HTTPS**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ö–æ—Å—Ç–∏–Ω–≥–∞
- ‚úÖ **Telegram initData**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ HMAC —Å BOT_TOKEN
- ‚úÖ **JWT ‚â§ 24h**: –¢–æ–∫–µ–Ω—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
- ‚úÖ **–ò–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è**: –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç score, –Ω–µ –¥–æ–≤–µ—Ä—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É
- ‚úÖ **AES-256**: –ê–¥—Ä–µ—Å–∞ –∫–æ—à–µ–ª—å–∫–æ–≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **Nonce**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–æ–≤)
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–µ–π**: RSA-SHA256 –¥–ª—è STARS/TON –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **Pending —Å—Ç–∞—Ç—É—Å**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö + retry
- ‚úÖ **Rate limit**: 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤/–º–∏–Ω—É—Ç—É (—Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó)
- ‚úÖ **CORS**: Whitelist –¥–ª—è Telegram WebApp

---

## üìÅ –ù–û–í–´–ï –§–ê–ô–õ–´

```
monkey-flipper-api/
‚îú‚îÄ‚îÄ shop-items.json              # –ö–∞—Ç–∞–ª–æ–≥: —Å–∫–∏–Ω—ã, NFT, –±—É—Å—Ç—ã
‚îú‚îÄ‚îÄ generate-keys.js             # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–ª—é—á–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ SECURITY_IMPLEMENTATION.md   # –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ QUICK_START_STARS.md         # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
‚îî‚îÄ‚îÄ server-api.js                # –û–±–Ω–æ–≤–ª–µ–Ω: CORS, –ø–æ–¥–ø–∏—Å–∏, —Å–æ–±—ã—Ç–∏—è

STARS_INTEGRATION_COMPLETE.md   # –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (—ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ)
```

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### 1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏
```bash
cd monkey-flipper-api
node generate-keys.js
```
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –≤ `.env` —Ñ–∞–π–ª

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
npm install
npm start
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API
```bash
# –ö–∞—Ç–∞–ª–æ–≥ –º–∞–≥–∞–∑–∏–Ω–∞
curl http://localhost:3001/api/shop/catalog

# –°–∫–∏–Ω—ã
curl http://localhost:3001/api/shop/catalog?category=skins

# NFT
curl http://localhost:3001/api/shop/catalog?category=nft_characters
```

---

## üìä API ENDPOINTS

### –ú–∞–≥–∞–∑–∏–Ω
- `GET /api/shop/catalog` - –≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥
- `GET /api/shop/catalog?category=skins` - —Ñ–∏–ª—å—Ç—Ä
- `POST /api/shop/purchase-stars` - –ø–æ–∫—É–ø–∫–∞ –∑–∞ STARS

### –ö–æ—à–µ–ª–µ–∫
- `POST /api/wallet/connect-stars` - –ø–æ–¥–∫–ª—é—á–∏—Ç—å STARS
- `GET /api/wallet/stars-info/:userId` - –±–∞–ª–∞–Ω—Å STARS

### –ò–≥—Ä–∞ (–∞–Ω—Ç–∏-—á–∏—Ç)
- `POST /api/game-events` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `POST /api/save-score` - –ø—Ä—è–º–æ–π score (deprecated)

---

## ‚ö†Ô∏è TODO –¥–ª—è PRODUCTION

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å generate-keys.js** –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å .env
2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π STARS API** (–≤ server-api.js - –ø–æ–∏—Å–∫ –ø–æ "–ó–î–ï–°–¨ –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ö–û–î")
3. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å**: —Å–º. –ø—Ä–∏–º–µ—Ä—ã –≤ `QUICK_START_STARS.md`
   - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ initData –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π –¥–ª—è –ø–æ–∫—É–ø–æ–∫

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- **SECURITY_IMPLEMENTATION.md** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **QUICK_START_STARS.md** - –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- **STARS_INTEGRATION.md** - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)

---

## ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –¢–ó —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ 100%. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ endpoints.
