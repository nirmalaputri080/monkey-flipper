# ‚úÖ INTRO VIDEO - –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

## üé¨ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –í–∏–¥–µ–æ –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ `/monkey-flipper-api/assets/intro.mp4` (2.4 MB)
- ‚úÖ –§–æ—Ä–º–∞—Ç: ISO Media, MP4 v2

### 2. API –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ `POST /api/send-intro-video` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- ‚úÖ `GET /api/check-intro/:userId` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### 3. Telegram Bot –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `/start` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç intro –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ `/video` - –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å intro –≤–∏–¥–µ–æ

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `users` —Å –∫–æ–ª–æ–Ω–∫–æ–π `intro_seen`

### 5. –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
```
API server listening on 3001
ü§ñ Telegram Bot –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ polling
üìπ –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ: –í–∫–ª—é—á–µ–Ω–æ
```

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞: **@YourBotName**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –ë–æ—Ç –ø—Ä–∏—à–ª–µ—Ç –≤–∏–¥–µ–æ —Å –∫–Ω–æ–ø–∫–æ–π "üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
4. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º `/start` - —Å—Ä–∞–∑—É –∫–Ω–æ–ø–∫–∞ –∏–≥—Ä—ã (–≤–∏–¥–µ–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–∞–∑)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API

```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å intro –≤–∏–¥–µ–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
curl -X POST http://localhost:3001/api/send-intro-video \
  -H "Content-Type: application/json" \
  -d '{"userId": "YOUR_TELEGRAM_ID", "videoType": "mp4"}'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∏–¥–µ–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å intro
curl http://localhost:3001/api/check-intro/YOUR_TELEGRAM_ID
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–ª–∏–µ–Ω—Ç (index.html)

```javascript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã
const userId = Telegram.WebApp.initDataUnsafe?.user?.id;

if (userId) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∏–¥–µ–ª –ª–∏ intro
    fetch(`https://your-api.render.com/api/check-intro/${userId}`)
        .then(res => res.json())
        .then(data => {
            if (!data.introSeen) {
                // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–∫–∞–∑ –≤–∏–¥–µ–æ
                fetch('https://your-api.render.com/api/send-intro-video', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ userId, videoType: 'mp4' })
                });
            } else {
                startGame(); // –£–∂–µ –≤–∏–¥–µ–ª - —Å—Ä–∞–∑—É –∏–≥—Ä–∞
            }
        });
}
```

---

## üìä –ù–ê–°–¢–†–û–ô–ö–ò:

### –í `.env` —Ñ–∞–π–ª–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
```env
BOT_TOKEN=8178845934:AAGXqF1EF73-J3C3Qnw4FKQ1cy74gZRuAz4
GAME_URL=https://monkey-flipper-test-key-1.vercel.app
ENABLE_BOT_POLLING=true
```

### –ù–∞ Render —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
1. **BOT_TOKEN** = `8178845934:AAGXqF1EF73-J3C3Qnw4FKQ1cy74gZRuAz4`
2. **GAME_URL** = `https://monkey-flipper-test-key-1.vercel.app`
3. **ENABLE_BOT_POLLING** = `true`

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
cd monkey-flipper-api
node server-api.js
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –≤–∞—à–µ–º—É –±–æ—Ç—É –≤ Telegram
```

### Production (Render):
–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ:
- https://your-api.render.com/api/check-intro/YOUR_ID

---

## üìπ –ó–ê–ú–ï–ù–ê –í–ò–î–ï–û:

–ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ:

1. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ –≤ `monkey-flipper-api/assets/intro.mp4`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
3. –í–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –§–æ—Ä–º–∞—Ç: MP4 (H.264)
- –†–∞–∑–º–µ—Ä: –¥–æ 20 –ú–ë
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 5-15 —Å–µ–∫—É–Ω–¥

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. ‚úÖ **–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ**
2. ‚è≥ **–ñ–¥–µ–º –¥–µ–ø–ª–æ–π –Ω–∞ Render** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ git push)
3. üéÆ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ Telegram** (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ /start –±–æ—Ç—É)
4. üåê **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ –∫–ª–∏–µ–Ω—Ç** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîó –°–°–´–õ–ö–ò:

- –ò–≥—Ä–∞: https://monkey-flipper-test-key-1.vercel.app
- API: https://your-api.render.com
- –ë–æ—Ç: @YourBotName

---

**‚ú® –ì–û–¢–û–í–û! –¢–µ–ø–µ—Ä—å –∏–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–∏–¥–µ–æ!**
